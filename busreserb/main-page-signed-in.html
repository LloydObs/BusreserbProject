<!--   DASIGAN, OBJERO, PINEDA, SUZUKI
       BSIT 3-2           
	   PASAHEROES, MAIN PAGE   -->

       <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
       <html xmlns="http://www.w3.org/1999/xhtml">
       <head>
       <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
       <title>Main page</title>
       <link rel="stylesheet" href="main page.css">
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
       </head>
       
       <body>

           <div class="top">
               <img src="logowhite.png" alt="Logo">
               <h1> <a href="main page signed in.html">PASAHEROES</a></h1>
               <h2>YOUR DREAM TRAVEL STARTS HERE</h2>
               <button class="button-2"> <a href="setting-logout.html">ACCOUNT</a></button>
           </div>
           
           <div class="below_top">
               <button class="button-3"> <a href="about signed in.html">ABOUT</a></button>
               <button class="button-4"> <a href="destinations signed in.html">OUR DESTINATIONS</a></button>
               <button class="button-5"> <a href="schedule signed in.html">BUS SCHEDULES</a></button>
               <button class="button-6"> <a href="reviews signed in.html">REVIEWS</a></button>
               <button class="button-7"> <a href="contact signed in.html">CONTACT</a></button>
           </div>
           
           <div class="inputs">
               <form method="post" action = "booking.php" onsubmit = "moneyamount()">		
                   <br><label class="origin">ORIGIN</label><br/>
                   <div class="dropdown">			
                       <select class="select" name="dropdown" id="dropdown" onchange="populate(this.id,'dropdown1'); calculate()">
                       <option disabled selected>Choose Origin</option>
                       <option value="cubao">Cubao</option>
                       <option value="baguio">Baguio</option>
                       <option value="bulacan">Bulacan</option>
                       <option value="batangas">Batangas</option>
                       <option value="ilocos">Ilocos</option>
                       <option value="la union">La Union</option>
                       <option value="pampanga">Pampanga</option>
                       <option value="zambales">Zambales</option>				
                       </select>	
                   </div>
                   
                   <br><label class="destination">DESTINATION</label><br/>		
                   <div class="dropdown">				
                       <select class="select" name="dropdown1" id="dropdown1" onchange="calculate()">
                       <option disabled selected>Choose Destination</option>
                       <option value="cubao">Cubao</option>
                       <option value="baguio">Baguio</option>
                       <option value="bulacan">Bulacan</option>
                       <option value="batangas">Batangas</option>
                       <option value="ilocos">Ilocos</option>
                       <option value="la union">La Union</option>
                       <option value="pampanga">Pampanga</option>
                       <option value="zambales">Zambales</option>
                       </select>			
                   </div>

                   <br><label class="fare">PRICE</label><br/>
                   <input name = "fare" id="fare" placeholder="0.00 PHP" readonly>

                   <br><label class="date">DEPARTURE DATE</label><br/>
                   <input name = "bookingDate" type="date" id="departureDate" min="2022-02-28" max ="2022-03-28" required>
                   
                   <br><label class="count">PASSENGER COUNT</label><br/>
                   <input type="number" name= "passengerCount" id="passengerCount" min="1" required>
       
                   <br><label class="amount">MONEY AMOUNT</label><br/>
                   <input type="number" name= "amount" id= "amount" placeholder= "0.00 PHP" required>
                   <span id="error"></span>
       
                   <div class="input_buttons">
                       <button type="reset">CLEAR</button>
                       <button name= "submit" type="submit"  onclick="moneyamount()">BOOK</button>
                   </div>
               </form>
           </div>
           
           <script>
            function calculate()
                {
                    var total= 0.00
                    var drop= document.getElementById('dropdown');
                    var drop1= document.getElementById('dropdown1');
                    var value= dropdown.options[dropdown.selectedIndex].value;
                    var value1= dropdown1.options[dropdown1.selectedIndex].value;

                    localStorage.setItem("dropdown",dropdown);
                    localStorage.setItem("dropdown1", dropdown1);

                    if (value == "cubao" && value1 == "bulacan")
                        {
                            total = 170.00;
                        }
                    else if (value == "cubao" && value1 == "baguio")
                        {
                            total = 550.00;
                        }
                    else if (value == "cubao" && value1 == "batangas")
                        {
                            total = 260.00;
                        }
                    else if (value == "cubao" && value1 == "ilocos")
                        {
                            total = 750.00;
                        }
                    else if (value == "cubao" && value1 == "la union")
                        {
                            total = 650.00;
                        }
                    else if (value == "cubao" && value1 == "pampanga")
                        {
                            total = 450.00;
                        }
                    else if (value == "cubao" && value1 == "zambales")
                        {
                            total = 450.00;
                        }
                    else if (value1 == "cubao" && value == "bulacan")
                        {
                            total = 170.00;
                        }
                    else if (value1 == "cubao" && value == "baguio")
                        {
                            total = 550.00;
                        }
                    else if (value1 == "cubao" && value == "batangas")
                        {
                            total = 260.00;
                        }
                    else if (value1 == "cubao" && value == "ilocos")
                        {
                            total = 750.00;
                        }
                    else if (value1 == "cubao" && value == "la union")
                        {
                            total = 650.00;
                        }
                    else if (value1 == "cubao" && value == "pampanga")
                        {
                            total = 450.00;
                        }
                    else if (value1 == "cubao" && value == "zambales")
                        {
                            total = 450.00;
                        }
                        
                    document.getElementById('fare').value = total.toFixed(2) + " PHP";
                }
                    
            </script>

           <script>
            function populate(s1,s2){
                var s1 = document.getElementById(s1);
                var s2 = document.getElementById(s2);

                s2.innerHTML = "";

                if(s1.value== "cubao")
                {
                    var optionArray = ['batangas|Batangas', 'baguio|Baguio', 'bulacan|Bulacan', 'ilocos|Ilocos', 'la union|La Union','pampanga|Pampanga', 'zambales|Zambales', ];
                }
                else if(s1.value=="bulacan")
                {
                    var optionArray = ['cubao|Cubao'];
                }
                else if(s1.value=="batangas")
                {
                    var optionArray = ['cubao|Cubao'];
                }
                else if(s1.value=="baguio")
                {
                    var optionArray = ['cubao|Cubao'];
                }
                else if(s1.value=="la union")
                {
                    var optionArray = ['cubao|Cubao'];
                }
                else if(s1.value=="ilocos")
                {
                    var optionArray = ['cubao|Cubao'];
                }
                else if(s1.value=="pampanga")
                {
                    var optionArray = ['cubao|Cubao'];  
                }
                else if(s1.value=="zambales")
                {
                    var optionArray = ['cubao|Cubao'];
                }

                for(var option in optionArray)
                {
                    var pair= optionArray[option].split("|");
                    var newoption= document.createElement("option");

                    newoption.value= pair[0];
                    newoption.innerHTML= pair[1];
                    s2.options.add(newoption);
                }
            }
        </script>

<script>
    function moneyamount()
        {
            const message = document.getElementById("p01");
            message.innerHTML = "";
            var price= document.getElementById('fare').value;
            var count= document.getElementById('passengerCount').value;
            var error = document.getElementById("error")
            var input_amount = document.getElementById("amount").value;

            let tot_amount= price * count;

            try { 
                    if(input_amount == "")  throw "empty";
                    if(input_amount < tot_amount) throw "inadequate amount of money.";
                }
                catch(err) {
                    message.innerHTML = "Input is " + err;
                }
        }
</script>
        
       </body>
       </html>
       